# RK3576 AI è§†è§‰é¡¹ç›®

åŸºäº RK3576 NPU çš„è¾¹ç¼˜ AI è§†è§‰æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒç›®æ ‡æ£€æµ‹ã€è·Œå€’åˆ¤æ–­ç­‰åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**ï¼šåˆ©ç”¨ RK3576 çš„ 6 TOPS NPU åŠ é€Ÿæ¨ç†
- ğŸ”„ **è·¨å¹³å°**ï¼šPC ç”¨ ONNX å¼€å‘ï¼Œæ¿ç«¯ç”¨ RKNN éƒ¨ç½²
- ğŸ§© **æ¨¡å—åŒ–**ï¼šdetectors / logic / common ä¸‰å±‚æ¶æ„
- ğŸ›¡ï¸ **ç”Ÿäº§çº§**ï¼šå®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œèµ„æºç®¡ç†
- ğŸ“¦ **å¼€ç®±å³ç”¨**ï¼šæ”¯æŒ YOLOv8 ç›®æ ‡æ£€æµ‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
rk3576-ai-vision/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ detectors/           # AI æ¨¡å‹å±‚
â”‚   â”‚   â”œâ”€â”€ detector.py      # BaseModelDetector + å·¥å‚
â”‚   â”‚   â””â”€â”€ yolo_detector.py # YOLOv8ModelDetector
â”‚   â”œâ”€â”€ logic/               # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â””â”€â”€ fall_judge.py    # è·Œå€’åˆ¤æ–­
â”‚   â””â”€â”€ common/              # åŸºç¡€è®¾æ–½å±‚
â”‚       â”œâ”€â”€ camera.py        # æ‘„åƒå¤´å°è£…
â”‚       â”œâ”€â”€ preprocess.py    # å›¾åƒé¢„å¤„ç†
â”‚       â”œâ”€â”€ postprocess.py   # æ£€æµ‹åå¤„ç†
â”‚       â”œâ”€â”€ config.py        # å…¨å±€é…ç½®
â”‚       â””â”€â”€ logger.py        # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ models/                  # æ¨¡å‹æ–‡ä»¶ï¼ˆ.onnx/.rknnï¼‰
â”œâ”€â”€ tests/                   # å•å…ƒæµ‹è¯•
â”œâ”€â”€ scripts/                 # å·¥å…·è„šæœ¬
â””â”€â”€ docs/                    # æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- OpenCV
- NumPy
- onnxruntimeï¼ˆPC ç«¯ï¼‰
- rknn-lite2ï¼ˆæ¿ç«¯ï¼‰

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### å›¾ç‰‡æ£€æµ‹

```bash
cd src
python main.py --image ../test.jpg --model ../models/yolov8n.onnx
```

### æ‘„åƒå¤´æ£€æµ‹

```bash
cd src
python main.py --camera 0 --model ../models/yolov8n.onnx
```

### æ¿ç«¯è¿è¡Œ

```bash
cd src
python3 main.py --camera 0 --model ../models/yolov8n.rknn
```

## âš™ï¸ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--image` | å›¾ç‰‡è·¯å¾„ | - |
| `--camera` | æ‘„åƒå¤´è®¾å¤‡å· | - |
| `--model` | æ¨¡å‹è·¯å¾„ | `../models/yolov8n.onnx` |
| `--conf` | ç½®ä¿¡åº¦é˜ˆå€¼ | 0.25 |
| `--nms` | NMS é˜ˆå€¼ | 0.45 |
| `--output` | è¾“å‡ºå›¾ç‰‡è·¯å¾„ | `result.jpg` |
| `--show` | æ˜¾ç¤ºçª—å£ | False |
| `--version` | æ˜¾ç¤ºç‰ˆæœ¬ | - |

## ğŸ“Š æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹ | æ ¼å¼ | ç”¨é€” |
|------|------|------|
| YOLOv8n | .onnx / .rknn | ç›®æ ‡æ£€æµ‹ |
| YOLOv8-pose | .onnx / .rknn | å§¿æ€æ£€æµ‹ï¼ˆè§„åˆ’ä¸­ï¼‰ |
| RetinaFace | .onnx / .rknn | äººè„¸æ£€æµ‹ï¼ˆè§„åˆ’ä¸­ï¼‰ |

## ğŸ”§ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°æ¨¡å‹

1. åœ¨ `detectors/` ä¸‹åˆ›å»ºæ–°çš„æ£€æµ‹å™¨ç±»
2. ç»§æ‰¿ `BaseModelDetector` æˆ– `BaseRKNNModel`
3. å®ç° `preprocess()` å’Œ `postprocess()` æ–¹æ³•
4. åœ¨ `detectors/__init__.py` ä¸­å¯¼å‡º

### æ·»åŠ æ–°ä¸šåŠ¡é€»è¾‘

1. åœ¨ `logic/` ä¸‹åˆ›å»ºæ–°çš„åˆ¤æ–­å™¨
2. ç±»åä½¿ç”¨ `XXXJudge` æˆ– `XXXAnalyzer`
3. ä¸»æ–¹æ³•ä½¿ç”¨ `judge()` æˆ– `analyze()`

## ğŸ“ ç‰ˆæœ¬å†å²

- **v1.0.1** - ç”Ÿäº§çº§ä¼˜åŒ–ï¼ˆå¼‚å¸¸å¤„ç†ã€èµ„æºç®¡ç†ï¼‰
- **v1.0.0** - åˆå§‹ç‰ˆæœ¬

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¤ ä½œè€…

æ¨å›½å½¬ (yangguobin88@gmail.com)
