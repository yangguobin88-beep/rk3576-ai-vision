# 阶段 2：用自己的数据训练模型

> 🎯 目标：让 AI "认识你的东西"

---

## 📋 本阶段概览

| 步骤 | 内容 | 预计时间 |
|------|------|----------|
| Step 1 | 确定检测目标 | 10 分钟 |
| Step 2 | 收集图片 | 1-2 小时 |
| Step 3 | 标注数据 | 2-4 小时 |
| Step 4 | 训练模型 | 1-2 小时 |
| Step 5 | 测试效果 | 30 分钟 |

---

## Step 1：确定你要检测什么

### 🤔 先想清楚

- 你想让 AI 认识什么？
  - 例如：安全帽、口罩、特定产品、缺陷、车牌...
  
- 需要几个类别？
  - 新手建议：**1-3 个类别**
  - 例如：`helmet`（安全帽）、`no_helmet`（未戴安全帽）

### ✏️ 填写你的目标

```
我的检测目标：________________
类别数量：______ 个
类别名称：
  1. ________________
  2. ________________
  3. ________________
```

---

## Step 2：收集图片

### 📸 图片要求

| 要求 | 说明 |
|------|------|
| 数量 | 每个类别 **50-200 张**（新手先用 50 张试试） |
| 质量 | 清晰、目标明显 |
| 多样性 | 不同角度、光线、背景 |
| 格式 | JPG 或 PNG |

### 📁 图片存放位置

```
d:\rk3576\dataset\
└── images\
    ├── img_001.jpg
    ├── img_002.jpg
    └── ...
```

### 💡 图片来源建议

1. **自己拍摄**（最推荐）
   - 用手机拍，越多角度越好

2. **网上下载**
   - Google 图片搜索
   - 注意版权问题

3. **录制视频后截图**
   - 用脚本从视频中提取帧

---

## Step 3：标注数据

### 🏷️ 什么是标注？

就是告诉 AI：**这张图里的「东西」在哪里，是什么**

### 🛠️ 推荐工具

#### 方案 A：LabelImg（本地，免费）

```bash
pip install labelImg
labelImg
```

使用步骤：
1. 打开图片文件夹
2. 选择 YOLO 格式
3. 画框 → 输入类别名 → 保存

#### 方案 B：Roboflow（在线，更方便）

1. 访问 https://roboflow.com
2. 注册免费账号
3. 上传图片
4. 在线标注
5. 导出 YOLOv8 格式

### 📁 标注后的文件结构

```
d:\rk3576\dataset\
├── images\
│   ├── train\          # 训练集（约 80%）
│   │   ├── img_001.jpg
│   │   └── ...
│   └── val\            # 验证集（约 20%）
│       ├── img_050.jpg
│       └── ...
├── labels\
│   ├── train\
│   │   ├── img_001.txt  # 对应的标注文件
│   │   └── ...
│   └── val\
│       ├── img_050.txt
│       └── ...
└── data.yaml           # 数据集配置文件
```

---

## Step 4：训练模型

### 🚀 运行训练脚本

```bash
python d:\rk3576\train_yolov8.py
```

### ⏱️ 训练时间参考

| 配置 | 50 张图片 | 200 张图片 |
|------|-----------|------------|
| CPU | 30-60 分钟 | 2-4 小时 |
| GPU | 5-10 分钟 | 20-40 分钟 |

---

## Step 5：测试训练结果

训练完成后：

1. 在 `runs/detect/train/` 找到训练结果
2. 用新训练的模型测试
3. 观察效果

---

## ✅ 阶段 2 完成标准

- [ ] 有一个 `.pt` 模型文件
- [ ] 在 PC 上对你自己的数据有效
- [ ] 能说出："我训练了一个识别 _____ 的模型"

---

## ❓ 常见问题

### Q：训练多少轮（epochs）合适？

**A：新手先用 50-100 轮**，看效果再调整。

### Q：标注需要很精确吗？

**A：框住目标就行**，不需要贴边，留一点边距更好。

### Q：训练后效果不好怎么办？

**A：检查这几点：**
1. 图片是否太少（至少 50 张）
2. 标注是否正确
3. 训练轮数是否太少
4. 增加更多样化的图片

---

## 📚 下一步

完成阶段 2 后，进入 **阶段 3：判断 RK3576 是否合适**
